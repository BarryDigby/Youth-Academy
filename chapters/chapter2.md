---
title: 'Week 2: Data Frames and Plots' 
description: Plots using ggpubr
prev: /chapter1
next: /chapter3
id: 2
type: chapter
---
<exercise id="1" title="Matrices">

In week 1 we covered vectors, which can store similar data types. In reality, it is impractical to store your datasets in a series of vectors. R uses 2 main data structures to store collections of vectors, the first of which we will cover are matrices.

Matrices are 2-dimensional data structures which contain data of the same type. Data structures >2-d are known as arrays but matrices will remain our primary focus due to their more widespread use.

The standard function in R used to create matrices is matrix() which takes as input the data required, the number of columns and the number of rows.

- The example below creates a 3x3 matrix using the numbers 1-9.

<codeblock id="02_01">
</codeblock>

- The same matrix can be generated by concatenating vectors together (each vector represents a column)

<codeblock id="02_02">
</codeblock>

However, just like vectors, matrices can not handle multiple data types. See the example below, which converts our numeric inputs to characters when we print the resulting matrix:

<codeblock id="02_03">
</codeblock>

***

Matrices are generally a suboptimal way to store your data. In practice the only time (I personally) come across matrices is when a package requires a matrix as input. Genomic datasets tend to be mostly numeric, luckily switching between a matrix and a dataframe is trivial.

In the next section we will cover the `data.frame` which is by far the most common data structure you will encounter in data science. They are ubiquitous across all industries! 

</exercise>


<exercise id="2" title="Data Frames">

Let's review the basics of a `data.frame`.

A `data.frame` is basically a table-like format (think excel spreadsheets) which has the following properties: 

<img src="tidy-1.png">

- Columns can each have a different type (`numeric`, `character`, `boolean`, `factor`)
- Columns are called "variables"
- Rows correspond to a single observation (ideally)
- Can be subset or filtered based on criteria

***

I will not spend time teaching you how to construct a `data.frame`, instead we will focus on reading in datasets and getting to grips with inspecting the dataset. (Note, any `.txt`, `.tsv`, `.csv` file can be read as a dataframe - the caveat here is that each row must have the same number of columns, and the columns must have the same number of rows).

Let's practice reading in a `data.frame`. I have prepared a healthcare dataset on strokes to use this week.

**Note:** We use the R function `read.csv()` as the dataset is stored in a comma-separated values file.

- View the raw file here -> [link](https://raw.githubusercontent.com/BarryDigby/Youth-Academy/master/data/stroke-data.csv)
- View the file formatted as a dataframe here -> [link](https://github.com/BarryDigby/Youth-Academy/blob/master/data/stroke-data.csv)

<codeblock id="02_04">
</codeblock>

***

The dataframe has 4909 observations (rows) recorded for 12 variables (columns). Let's discuss each variable in the dataset:

- **id**: A patient identifier given by an integer value.
- **gender**: The sex of the patient.
- **age**: Age of the patient given by an integer value.
- **hypertension**: Does the patient suffer from hypertension?
- **heart_disease**: Does the patient suffer from heart disease?
- **ever_married**: Is the patient married?
- **work_type**: Sector the patient works in.
- **Residence_type**: Does the patient live in a rural or urban area?
- **avg\_glucose\_level**: Patients average glucose level.
- **bmi**: Patients body mass index.
- **smoking_status**: Is the patient one of "former", "smoker", "non-smoker", or "unknown"?
- **stroke**: Has the patient had a stroke?

***

## Acessing values 

Conceptually, a dataframe is a grid of values. We can access specific cells by slicing the dataframe. Much like vectors, we supply an index after the dataframe variable. 

The main difference is that we supply two values, one for rows and one for columns:

<img src="slicingDataFrames.png" width="100%">

***

Alternatively, we can call a column by its name. This is a very useful feature of dataframes and allows for human readable, logical column names.

This is done by using the dollar (`$`) symbol after the `data.frame` variable. Try it out below: 

<codeblock id="02_05">
</codeblock>

</exercise>